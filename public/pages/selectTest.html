<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luyện thi trắc nghiệm | DevArena</title>
    <link rel="stylesheet" href="/stylesheets/header.css">
    <link rel="stylesheet" href="/stylesheets/footer.css">
    <link rel="stylesheet" href="/stylesheets/selectTest.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>

    <header id="header-placeholder"></header>

    <section class="topic-banner">
        <div class="topic-overlay">
            <h1 id="category-name">Đang tải...</h1>
            <p id="category-description"></p>
        </div>
    </section>

    <div class="main-container">
        
        <section class="start-action-section">
            <div class="start-card">
                <h2>Sẵn sàng thử thách?</h2>
                <p>Kiểm tra kiến thức của bạn ngay bây giờ với bộ câu hỏi ngẫu nhiên.</p>
                <button id="btn-open-config" class="btn-hero-start">
                    <i class="fas fa-play"></i> Bắt đầu làm bài
                </button>
            </div>
        </section>

        <section class="search-filter-wrapper">
            <form class="search-form-test">
                <input type="search" id="test-search-input" placeholder="Tìm câu hỏi...">
                <button type="submit" aria-label="Tìm kiếm"><i class="fas fa-search"></i></button>
            </form>
            <div class="filter-box">
                <select id="browser-filter-difficulty" class="filter-select">
                    <option value="all">Tất cả độ khó</option>
                    <option value="easy">Dễ</option>
                    <option value="medium">Trung bình</option>
                    <option value="hard">Khó</option>
                </select>
            </div>
        </section>

        <main class="question-browser">
            <div class="browser-header">
                <h3><i class="fas fa-database"></i> Ngân hàng câu hỏi tham khảo</h3>
                <span id="modal-question-count" class="badge-count">...</span>
            </div>
            <div id="question-list-container" class="question-list"></div>
            <div id="pagination-controls" class="pagination-controls" style="display: none;">
                <button id="btn-prev-page" class="btn-page"><i class="fas fa-chevron-left"></i></button>
                <span id="page-info">Trang 1</span>
                <button id="btn-next-page" class="btn-page"><i class="fas fa-chevron-right"></i></button>
            </div>
        </main>
    </div>

    <div id="config-modal" class="modal-overlay">
        <div class="modal-content config-modal-box">
            <span class="close-modal-btn">&times;</span>
            
            <div class="modal-header">
                <h2><i class="fas fa-sliders-h"></i> Thiết lập bài thi</h2>
            </div>

            <div class="modal-body">
                <div class="config-section">
                    <h4 class="section-title">Cài đặt chung</h4>
                    <div class="form-row">
                        <div class="form-group half">
                            <label>Số câu hỏi</label>
                            <select id="config-limit" class="form-control">
                                <option value="5">5 câu</option>
                                <option value="10" selected>10 câu</option>
                                <option value="15">15 câu</option>
                                <option value="20">20 câu</option>
                                <option value="30">30 câu</option>
                                <option value="40">40 câu</option>
                            </select>
                        </div>
                        <div class="form-group half">
                            <label>Độ khó</label>
                            <select id="config-difficulty" class="form-control">
                                <option value="all" selected>Ngẫu nhiên</option>
                                <option value="easy">Dễ</option>
                                <option value="medium">Trung bình</option>
                                <option value="hard">Khó</option>
                            </select>
                        </div>
                    </div>
                </div>

                <hr class="divider">

                <div class="config-section">
                    <h4 class="section-title">Chế độ thời gian</h4>
                    
                    <div class="mode-option" id="mode-classic-row">
                        <div class="radio-header">
                            <input type="radio" name="timeMode" id="mode-classic" value="classic" checked>
                            <label for="mode-classic">
                                <strong>Thi tiêu chuẩn</strong> (Tính tổng thời gian)
                            </label>
                        </div>
                        <div class="mode-controls">
                            <div class="control-item full-width">
                                <label>Tổng thời gian làm bài:</label>
                                <select id="config-total-time" class="form-control sm" checked>
                                    <option value="300">5 Phút</option>
                                    <option value="600">10 Phút</option>
                                    <option value="900" selected>15 Phút</option>
                                    <option value="1800">30 Phút</option>
                                    <option value="2700">45 Phút</option>
                                    <option value="3600">60 Phút</option>
                                </select>
                            </div>
                        </div>
                    </div>


                    <div class="mode-option" id="mode-paced-row">
                        <div class="radio-header">
                            <input type="radio" name="timeMode" id="mode-paced" value="paced">
                            <label for="mode-paced">
                                <strong>Thử thách tốc độ</strong> (Tính giờ từng câu)
                            </label>
                        </div>
                        <div class="mode-controls">
                            <div class="control-item">
                                <label>Giây/Câu:</label>
                                <select id="config-time-per-question" class="form-control sm" disabled>
                                    <option value="30">30 giây</option>
                                    <option value="45">45 giây</option>
                                    <option value="60" selected>60 giây</option>
                                    <option value="90">90 giây</option>
                                    <option value="120">120 giây</option>
                                </select>
                            </div>
                            <div class="control-item">
                                <label>Tổng (Tự tính):</label>
                                <input type="text" id="config-total-calc" class="form-control sm readonly" value="10 phút" readonly>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="modal-footer">
                <button id="btn-start-game-confirm" class="btn-confirm-start">
                    Vào thi ngay <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </div>


    <div id="practice-modal" class="modal-overlay">
    <div class="modal-content practice-modal-box">
        
        <div class="modal-header practice-header">
            <h2><i class="fas fa-bolt"></i> Luyện tập nhanh</h2>
            <span class="close-practice-btn">&times;</span>
        </div>

        <div class="modal-body">
            <div id="practice-question-text" class="practice-q-text"></div>

            <img id="practice-question-image" src="" alt="Hình minh họa" style="display: none; max-width: 100%; margin: 10px auto; border-radius: 8px;">
            
            <div id="practice-options" class="practice-options-list"></div>

            <div id="practice-result" class="practice-result-box" style="display:none;">
                <h4 id="practice-status" class="result-status"></h4>
                <div class="result-explanation">
                    <i class="fas fa-lightbulb"></i>
                    <span id="practice-explanation"></span>
                </div>
            </div>
        </div>

        <div class="modal-footer">
            <button id="btn-check-practice" class="btn-confirm-start practice-check-btn">
                Kiểm tra đáp án
            </button>
        </div>
    </div>
</div>


    <footer id="footer-placeholder"></footer>
    <script src="/javascript/main.js"></script>
    <script src="/javascript/selectTest-page.js" defer></script>
</body>
</html>